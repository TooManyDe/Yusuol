/* =============================================================================
   字体定义 (Font Definitions)
   ============================================================================= */

/** 代码字体 */
@font-face {
  font-family: "GoogleSansCode";
  font-display: swap;
  src: url("/assets/fonts/GoogleSansCode[wght].ttf") format("truetype");
}

/** 标题字体 */
@font-face {
  font-family: "ChillRoundF";
  font-display: swap;
  src: url("/assets/fonts/ChillRoundF.woff2") format("woff2"),
       url("/assets/fonts/ChillRoundF.woff") format("woff"),
       url("/assets/fonts/ChillRoundF.ttf") format("truetype");
}

/** 中文正文字体 */
@font-face {
  font-family: "SourceHanSerifSC-Regular";
  src: local("SourceHanSerifSC-Regular.otf"), url("/assets/fonts/SourceHanSerifSC-Regular.otf");
}

@font-face {
  font-family: "SourceHanSerifCN-Bold";
  src: local("SourceHanSerifCN-Bold.otf"), url("/assets/fonts/SourceHanSerifCN-Bold.otf");
}

/** Logo字体 */
@font-face {
  font-family: "mvboli";
  font-display: swap;
  src: url("/assets/fonts/mvboli.ttf");
}

/* =============================================================================
   通用网格背景 (Grid Background)
   ============================================================================= */

:root {
  --grid-light: rgba(0, 0, 0, 0.06);
  --grid-dark: rgba(255, 255, 255, 0.06);
  --grid-size: 30px;
}

body,
#app {
  background:
    linear-gradient(0deg, transparent 24%, var(--grid-light) 25%, var(--grid-light) 26%, transparent 27%, transparent 74%, var(--grid-light) 75%, var(--grid-light) 76%, transparent 77%, transparent),
    linear-gradient(90deg, transparent 24%, var(--grid-light) 25%, var(--grid-light) 26%, transparent 27%, transparent 74%, var(--grid-light) 75%, var(--grid-light) 76%, transparent 77%, transparent);
  background-size: var(--grid-size) var(--grid-size);
  background-attachment: fixed;
}

.dark body,
.dark #app {
  background:
    linear-gradient(0deg, transparent 24%, var(--grid-dark) 25%, var(--grid-dark) 26%, transparent 27%, transparent 74%, var(--grid-dark) 75%, var(--grid-dark) 76%, transparent 77%, transparent),
    linear-gradient(90deg, transparent 24%, var(--grid-dark) 25%, var(--grid-dark) 26%, transparent 27%, transparent 74%, var(--grid-dark) 75%, var(--grid-dark) 76%, transparent 77%, transparent);
  background-size: var(--grid-size) var(--grid-size);
  background-attachment: fixed;
}

/* =============================================================================
   导航栏与页脚统一背景 (NavBar & Footer)
   ============================================================================= */

.VPNavBar,
.VPFooter {
  background-color: var(--vp-c-bg);
  background-attachment: fixed;
  background-size: var(--grid-size) var(--grid-size);
  background-position: 0 0;
  border: none !important;
}

.VPNavBar {
  background-image: inherit;
}

.VPFooter {
  background-image: inherit;
}

.dark .VPNavBar,
.dark .VPFooter {
  background-image: inherit;
}

/* =============================================================================
   侧边栏 (Sidebar)
   ============================================================================= */

.VPNavScreen {
  background-color: var(--color-cream-50) !important;
  background-image: inherit;
  background-attachment: fixed;
}

.dark .VPNavScreen {
  background-color: var(--color-dark-muted) !important;
  background-image: inherit;
}

/* 移除侧边栏内多余线条 */
.VPNavScreen .divider,
.VPNavScreen .group,
.VPNavScreenMenuLink,
.VPNavScreen hr {
  border: none !important;
  display: none !important;
}

/* =============================================================================
   全局变量与品牌色定义
   ============================================================================= */

:root {
  --vp-nav-height: 50px;
  --vp-c-green: #41b349;
  --vp-c-green-soft: rgba(65, 179, 73, 0.14);

  /* 品牌主色调 */
  --vp-c-brand-1: var(--vp-c-green);
  --vp-c-brand-2: var(--vp-c-green);
  --vp-c-brand-3: var(--vp-c-green);
  --vp-c-brand-soft: var(--vp-c-green-soft);

  /* 字体 */
  --vp-font-family-serif: "SourceHanSerifSC-Regular";
  --vp-font-family-base: var(--vp-font-family-serif), -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  --vp-font-family-code: "GoogleSansCode", monospace;

  /* 背景 */
  --color-cream-50: oklch(96.65% .01 90);
  --bg-base-color: color-mix(in oklab, var(--color-cream-50) 50%, transparent);
  --vp-c-bg: var(--bg-base-color);

  /* TDesign组件 */
  --td-brand-color: var(--vp-c-brand-1);
  --td-brand-color-hover: var(--vp-c-brand-2);
  --td-brand-color-active: var(--vp-c-brand-3);
  --td-brand-color-light: var(--vp-c-brand-soft);
}

.dark {
  --vp-c-brand-1: #41b349;
  --vp-c-brand-2: #41b349;
  --vp-c-brand-3: #41b349;
  --vp-c-brand-soft: rgba(65, 179, 73, 0.14);

  --color-dark-muted: oklch(18.92% .0075 261.45);
  --vp-c-bg: var(--color-dark-muted);
}

/* =============================================================================
   导航栏布局 (Navbar Layout)
   ============================================================================= */

@media (min-width: 960px) {
  .VPNavBar {
    width: 100%;
    justify-content: center;
    background-color: var(--vp-c-bg);
  }

  .VPNavBar .container {
    max-width: 70vw;
    margin: 0 auto;
    padding: 0;
  }
}

/* Logo字体 */
.VPNavBarTitle .title {
  font-family: "ChillRoundF", sans-serif;
  font-size: 22px !important;
}

/* =============================================================================
   文档内容样式 (Doc Styles)
   ============================================================================= */

.VPDoc {
  padding-top: 20px !important;
}

@media (max-width: 959px) {
  .VPDoc {
    padding: 24px !important;
  }
}

.VPDoc.has-aside .content-container {
  max-width: 61.8rem !important;
}

.vp-doc p {
  margin: 5px 0;
}

/* 标题 */
h1, h2, h3, h4, h5, h6 {
  font-family: "SourceHanSerifCN-Bold", var(--vp-font-family-serif), sans-serif !important;
}

h1 {
  font-size: 24px !important;
  text-decoration: underline wavy #41b349 !important;
  text-underline-offset: 2px;
}

h2 {
  font-size: 20px !important;
  text-decoration: none !important;
}

/* Markdown 链接 */
.vp-doc a {
  color: #41b349;
  text-decoration: underline;
  text-underline-offset: 3px;
  transition: color 0.2s ease;
}

.vp-doc a:hover,
.vp-doc a:active {
  color: #1a6840;
}

/* 加粗文字 */
.vp-doc strong,
.vp-doc b {
  font-weight: 700 !important;
  text-decoration: underline wavy #41b349 !important;
  text-underline-offset: 3px;
}

/* 分割线样式 */
.vp-doc hr {
  border: none;
  height: 1px;
  background: linear-gradient(90deg, transparent, #41b349, transparent);
  margin: 0.5rem 0;
}

/* 图片优化 */
.VPDoc img {
  border-radius: 16px;
  cursor: zoom-in;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}

/* =============================================================================
   其他优化 (Miscellaneous)
   ============================================================================= */

::selection {
  background: var(--vp-c-brand-1);
  color: var(--vp-c-bg);
}

* {
  scrollbar-width: thin;
}

main > div > div > pre > code {
  white-space: pre-wrap;
  word-wrap: break-word;
}

#app {
  -webkit-tap-highlight-color: transparent;
}

/* 隐藏多余组件 */
.VPSidebar,
.VPDocAside,
.aside,
.VPBackToTop,
.divider,
.VPLocalNav {
  display: none !important;
}

/* 主题切换按钮 */
.VPSwitchAppearance {
  width: 22px !important;
}